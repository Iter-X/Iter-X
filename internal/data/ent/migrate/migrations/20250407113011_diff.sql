-- Create "languages" table
CREATE TABLE "languages" ("id" bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY, "created_at" timestamptz NOT NULL, "updated_at" timestamptz NOT NULL, "code" character varying NOT NULL, "name" character varying NOT NULL, "native_name" character varying NOT NULL, "enabled" boolean NOT NULL DEFAULT true, PRIMARY KEY ("id"));
-- Create index "languages_code_key" to table: "languages"
CREATE UNIQUE INDEX "languages_code_key" ON "languages" ("code");
-- Create "user_preferences" table
CREATE TABLE "user_preferences" ("id" uuid NOT NULL, "created_at" timestamptz NOT NULL, "updated_at" timestamptz NOT NULL, "app_language" character varying NOT NULL DEFAULT 'en', "default_city" character varying NULL, "time_format" character varying NOT NULL DEFAULT '24h', "distance_unit" character varying NOT NULL DEFAULT 'km', "dark_mode" character varying NOT NULL DEFAULT 'system', "notify_itinerary" boolean NOT NULL DEFAULT true, "notify_community" boolean NOT NULL DEFAULT true, "notify_recommendations" boolean NOT NULL DEFAULT true, "user_id" uuid NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "user_preferences_users_preference" FOREIGN KEY ("user_id") REFERENCES "users" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION);
-- Create index "user_preferences_user_id_key" to table: "user_preferences"
CREATE UNIQUE INDEX "user_preferences_user_id_key" ON "user_preferences" ("user_id");
INSERT INTO "languages" ("code", "name", "native_name", "created_at", "updated_at")
VALUES
    ('en', 'English', 'English', NOW(), NOW()),
    ('zh-CN', 'Chinese', '中文', NOW(), NOW());