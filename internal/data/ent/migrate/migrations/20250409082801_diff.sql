-- Create "agents" table
CREATE TABLE "agents" ("id" bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY, "created_at" timestamptz NOT NULL, "updated_at" timestamptz NOT NULL, "name" character varying NOT NULL, "enabled" boolean NOT NULL DEFAULT true, "description" character varying NULL, PRIMARY KEY ("id"));
-- Create index "agents_name_key" to table: "agents"
CREATE UNIQUE INDEX "agents_name_key" ON "agents" ("name");
-- Create "agent_prompts" table
CREATE TABLE "agent_prompts" ("id" bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY, "created_at" timestamptz NOT NULL, "updated_at" timestamptz NOT NULL, "version" character varying NOT NULL, "rounds" jsonb NOT NULL, "agent_prompts" bigint NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "agent_prompts_agents_prompts" FOREIGN KEY ("agent_prompts") REFERENCES "agents" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION);
-- Create "agent_tools" table
CREATE TABLE "agent_tools" ("id" bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY, "created_at" timestamptz NOT NULL, "updated_at" timestamptz NOT NULL, "name" character varying NOT NULL, "description" character varying NULL, "type" character varying NOT NULL, "base_url" character varying NULL, "api_key" character varying NULL, "model" character varying NULL, "function_spec" jsonb NULL, PRIMARY KEY ("id"));
-- Create index "agent_tools_name_key" to table: "agent_tools"
CREATE UNIQUE INDEX "agent_tools_name_key" ON "agent_tools" ("name");
-- Create "agent_tool_bindings" table
CREATE TABLE "agent_tool_bindings" ("id" bigint NOT NULL GENERATED BY DEFAULT AS IDENTITY, "created_at" timestamptz NOT NULL, "updated_at" timestamptz NOT NULL, "enabled" boolean NOT NULL DEFAULT true, "agent_tool_bindings" bigint NOT NULL, "agent_tool_agent_bindings" bigint NOT NULL, PRIMARY KEY ("id"), CONSTRAINT "agent_tool_bindings_agent_tools_agent_bindings" FOREIGN KEY ("agent_tool_agent_bindings") REFERENCES "agent_tools" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION, CONSTRAINT "agent_tool_bindings_agents_tool_bindings" FOREIGN KEY ("agent_tool_bindings") REFERENCES "agents" ("id") ON UPDATE NO ACTION ON DELETE NO ACTION);
